#include <stdio.h>
#include <stdlib.h>
#include <locale.h>

    float minuto [3][5];
    float segundo [3][5];
    float milisegundo [3][5];
    float somaseg [3][5];
    int rankmin[5];
    int rankseg[5];
    int rankmilli[5];
    float rankminu[5],rankmax[5], winner[5], rank[5];
    int l, c;
    char time[5];

int main()
{


    int menu, men1 ,men2, men3;
    setlocale(LC_ALL, "Portuguese");
    menup:
    menu=0;
    system("cls");
    printf("**********MENU PRINCIPAL**********\nDIGITE A OPÇÃO DESEJADA APERTE ENTER\n\n");
    printf("1. Bateria 1 \n");
    printf("2. Bateria 2 \n");
    printf("3. Bateria 3 \n");
    printf("4. Obter classificação geral na tela \n");
    printf("5. Exportar classificação geral \n");
    printf("6. Sair do sistema \n");
    scanf("%d",&menu);


        if(menu==1)
            {
            menu1:
            system("cls");
            printf("**********Bateria 1**********\nDIGITE O TEMPO DA BATERIA 1 DE CADA UMA DAS EQUIPES:\n\n");
            printf("1.Tempo da equipe 1 na bateria 1:\n");
            printf("2.Tempo da equipe 2 na bateria 1:\n");
            printf("3.Tempo da equipe 3 na bateria 1:\n");
            printf("4.Tempo da equipe 4 na bateria 1:\n");
            printf("5.Tempo da equipe 5 na bateria 1:\n");
            printf("6. Voltar ao menu principal  \n");
            scanf("%d",&men1);
                                    if(men1==1){
                                        system("cls");
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[1][1]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[1][1]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[1][1]);
                                        goto menu1;
                                           }
                                    if(men1==2){
                                        system("cls");
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[1][2]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[1][2]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[1][2]);
                                        goto menu1;
                                           }
                                    if(men1==3){
                                        system("cls");
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[1][3]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[1][3]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[1][3]);
                                        goto menu1;
                                           }
                                    if(men1==4){
                                        system("cls");
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[1][4]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[1][4]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[1][4]);
                                        goto menu1;
                                           }
                                    if(men1==5){
                                        system("cls");
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[1][5]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[1][5]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[1][5]);
                                        goto menu1;
                                           }
                                    if(men1==6){
                                        goto menup;}


            }

            if(menu==2)
                {
                menu2:
                system("cls");
                printf("**********Bateria 2**********\nDIGITE O TEMPO DA BATERIA 2 DE CADA UMA DAS EQUIPES:\n\n");
                printf("1.Tempo da equipe 1 na bateria 2:\n");
                printf("2.Tempo da equipe 2 na bateria 2:\n");
                printf("3.Tempo da equipe 3 na bateria 2:\n");
                printf("4.Tempo da equipe 4 na bateria 2:\n");
                printf("5.Tempo da equipe 5 na bateria 2:\n");
                printf("6. Voltar ao menu principal  \n");
                scanf("%d",&men2);
                                    if(men2==1){
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[2][1]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[2][1]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[2][1]);
                                        goto menu1;
                                           }
                                    if(men2==2){
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[2][2]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[2][2]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[2][2]);
                                        goto menu1;
                                           }
                                    if(men2==3){
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[2][3]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[2][3]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[2][3]);
                                        goto menu1;
                                           }
                                    if(men2==4){
                                          printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[2][4]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[2][4]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[2][4]);
                                        goto menu1;
                                           }
                                    if(men2==5){
                                          printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[2][5]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[2][5]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[2][5]);
                                        goto menu1;
                                           }
                                    if(men2==6){
                                        goto menup;}

                }

                if(menu==3)
                    {
                    menu3:
                    system("cls");
                    printf("**********Bateria 3**********\nDIGITE O TEMPO DA BATERIA 3 DE CADA UMA DAS EQUIPES:\n\n");
                    printf("1.Tempo da equipe 1 na bateria 3:\n");
                    printf("2.Tempo da equipe 2 na bateria 3:\n");
                    printf("3.Tempo da equipe 3 na bateria 3:\n");
                    printf("4.Tempo da equipe 4 na bateria 3:\n");
                    printf("5.Tempo da equipe 5 na bateria 3:\n");
                    printf("6. Voltar ao menu principal  \n");
                    scanf("%d",&men3);
                      if(men3==1){
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[3][1]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[3][1]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[3][1]);
                                        goto menu1;
                                           }
                                    if(men3==2){
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[3][2]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[3][2]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[3][2]);
                                        goto menu1;
                                           }
                                    if(men3==3){
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[3][3]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[3][3]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[3][3]);
                                        goto menu1;
                                           }
                                    if(men3==4){
                                          printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[3][4]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[3][4]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[3][4]);
                                        goto menu1;
                                           }
                                    if(men3==5){
                                        printf("Digite os minutos:\n");
                                        scanf("%f",&minuto[3][5]);
                                        printf("Digite os Segundos:\n");
                                        scanf("%f",&segundo[3][5]);
                                        printf("Digite os Mili-segundos:\n");
                                        scanf("%f",&milisegundo[3][5]);
                                        goto menu1;
                                           }
                                        if(menu==6){goto menup;}
                    }
                    if(menu==4)
                        {
                        menu4:
                        system("cls");

                        for(l=0;l<3;l++){
                            for(c=0;c<5; c++){
                                    somaseg[l][c]=(minuto[l][c]/60)+ segundo[l][c]+(milisegundo[l][c]/1000);/*transformando td em seg*/

                            }
                        }


                            for(l=0;l<3; l++){
                                    if(somaseg[l][1]>rankmax[1]){
                                        rankmax[1]=somaseg[l][1];
                                        rankmax[1]=0;
                                    }
                                   if(somaseg[l][2]>rankmax[2]){
                                        rankmax[2]=somaseg[l][2];
                                        rankmax[2]=0;
                                    }
                                    if(somaseg[l][3]>rankmax[3]){
                                        rankmax[3]=somaseg[l][3];
                                        rankmax[3]=0;
                                    }
                                   if(somaseg[l][4]>rankmax[4]){
                                        rankmax[4]=somaseg[l][4];
                                        rankmax[4]=0;
                                    }
                                   if(somaseg[l][5]>rankmax[5]){
                                        rankmax[5]=somaseg[l][5];
                                        rankmax[5]=0;
                                    }
                            }


                              for(c=0;c<5; c++){
                                      rankmin[c]=(somaseg[1][c]+somaseg[2][c]+somaseg[3][c])/2;
                              }

                              for(c=0;c<5; c++){
                                    winner[c]=99;
                                if(rankmin[c]<winner[1]){
                                winner[1]=rankmin[c];
                                if(rankmin[c]=winner[1]){
                                        rankmin[c]=0;
                                }
                            }
                                if(rankmin[c]>winner[2]){
                                    winner[2]=rankmin[c];
                                    if(rankmin[c]=winner[2]){
                                            rankmin[c]=0;
                                    }
                                }
                                if(rankmin[c]>winner[3]){
                                        winner[3]=rankmin[c];
                                        if(rankmin[c]=winner[3]){
                                                rankmin[c]=0;
                                        }
                                }
                                if(rankmin[c]>winner[4]){
                                        winner[4]=rankmin[c];
                                        if(rankmin[c]=winner[4]){
                                                rankmin[c]=0;
                                        }
                                }
                                if(rankmin[c]>winner[5]){
                                        winner[5]=rankmin[c];
                                        if(rankmin[c]=winner[5]){
                                                rankmin[c]=0;
                                        }
                                }
                    }


                        printf("**********CLASSIFICAÇÃO GERAL DAS EQUIPES:**********\n\n");
                        printf("1° lugar – EQUIPE X – Tempo %f:\n",winner[1]);
                        printf("2° lugar – EQUIPE X – Tempo %f:\n",winner[2]);
                        printf("3° lugar – EQUIPE X – Tempo %f:\n",winner[3]);
                        printf("4° lugar – EQUIPE X – Tempo %f:\n",winner[4]);
                        printf("5° lugar – EQUIPE X – Tempo %f:\\n\n",winner[5]);
                        printf("Digite 1 para voltar ao menu principal   \n");
                        scanf("%d",&menu);
                        if(menu==1){goto menup;}
                        }






    return 0;
}
